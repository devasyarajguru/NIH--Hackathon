<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign-Up form</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body class="sign-up-body">
    
    <div class="container">
        <form id="form" class="form">
            <h2>Register With Us</h2>
            <div class="form-control">
                <label for="name">Name</label>
                <input type="text" id="name" placeholder="Enter Username">
                <small>Error Message</small>
            </div>
    
            <div class="form-control">
                <label for="email">Email</label>
                <input type="text" id="email" placeholder="Enter email">
                <small>Error Message</small>
            </div>
    
            <div class="form-control">
                <label for="password">Password</label>
                <input type="password" id="password" placeholder="Enter password">
                <small>Error Message</small>
            </div>
    
            <div class="form-control">
                <label for="phone">Phone</label>
                <input type="number" id="phone">
            </div>
    
            <div class="form-control">
                <label for="photo">Photo</label>
                <input type="file" id="photo">
            </div>
    
            <div class="form-control">
                <label for="user-type">User type</label>
                <select id="user-type" name="user-type">
                    <option value="">Please select</option>
                    <option value="Expert">Expert</option>
                    <option value="Common">Common</option>
                </select>
            </div>
    
            <div class="form-control">
                <label for="father-name">Father Name</label>
                <input type="text" id="father-name" placeholder="Enter father name">
            </div>
    
            <div class="form-control">
                <label for="spouse-name">Spouse Name</label>
                <input type="text" id="spouse-name" placeholder="Enter spouse name">
            </div>
    
            <div class="form-control">
                <label for="DOB">Date of Birth</label>
                <input type="date" id="DOB">
            </div>
    
            <div class="form-control">
                <label for="caste">Caste</label>
                <input type="text" id="spouse-name" placeholder="Enter caste">
            </div>
    
            <div class="form-control">
                <label for="religion">Religion</label>
                <input type="text" id="religion" placeholder="Enter religion">
            </div>
    
            <div class="form-control">
                <label for="aadhar">Aadhaar No</label>
                <input type="number" id="aadhar" placeholder="Enter aadhaar number">
            </div>
    
            <div class="form-control">
                <label for="user-type">Gender</label>
                <select id="user-type" name="user-type">
                    <option value="">Please select</option>
                    <option value="Expert">Male</option>
                    <option value="Common">Female</option>
                </select>
            </div>
    
            <div class="form-control">
                <label for="occupation">Occupation</label>
                <input type="text" id="occupation" placeholder="Enter Occupation">
            </div>
    
            <div class="form-control">
                <label for="employee">Employee Details</label>
                <input type="text" id="employee" placeholder="Enter employee details">
            </div>
    
            <div class="form-control">
                <label for="salary">Salary</label>
                <input type="number" id="salary" placeholder="Enter salary">
            </div>
    
            <div class="form-control">
                <label for="district">District</label>
                <input type="text" id="district" placeholder="Enter district">
            </div>
    
            <div class="form-control">
                <label for="taluka">Taluka</label>
                <input type="text" id="taluka" placeholder="Enter taluka">
            </div>
    
            <button>Submit</button>
        </form>
    </div>

    <!--Script-->
        <script>
            // Getting the ID's
            const form = document.getElementById('form');
            const name = document.getElementById('name');
            const email = document.getElementById('email');
            const password = document.getElementById('password');

            // show error message
            function showError(input, message)
            {
                const formControl = input.parentElement; // div = form-control
        
                formControl.className = "form-control error"; // in css .form-control input , border color will be red

                const small = formControl.querySelector('small'); // selecting the first element of CSS selector small

                small.innerText = message; // Message to show in HTML
            }

            // show success
            function showSuccess(input)
            {
                const formControl = input.parentElement;
                formControl.className = "form-control success";
            }

            // check email is valid
            function checkEmail(input)
            {
                const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;  // Email Regex

                if (re.test(input.value.trim()))
                {
                    showSuccess(input);
                }
                else
                {
                    showError(input,"Email is not valid");
                }
            }

            // Check input fields
            function checkField(arr)
            {
                arr.forEach(function(input)
                {
                    if(input.value.trim() === "")
                    {
                        showError(input , `${fieldNames(input)} is required`)
                    }
                    else
                    {
                    showSuccess(input);
                    }
                });
            }   

            // check length
            function checkLength(input, min , max)
            {
                if(input.value.length < min)
                {
                    showError(input, `${fieldNames(input)} must be atleast ${min} character`)
                }
                else if(input.value.length > max)
                {
                    showError(input, `${fieldNames(input)} must be less than ${max} character`)
                }

                else
                {
                    showSuccess(input);
                }
            }

            // field names
            function fieldNames(input)
            {
                return input.id.charAt(0).toUpperCase() + input.id.slice(1)
            }

            // Event listeners
            form.addEventListener("submit" , function(e)
            {
                e.preventDefault();
                checkField([name,email, password])
                checkEmail(email);
                checkLength(name,3,15);
                checkLength(password,6,20)
            })

        </script>
    <!--Script-->

</body>
</html>